"use strict";(self["webpackChunkmjadmin"]=self["webpackChunkmjadmin"]||[]).push([[90],{8090:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var l=t(3396),i=t(7139),n=t(870),o=t(3324),s=t(1222),r=t(3369),u=t(6824),d=t(8521),c=t(6556),v=t(4413),p=t(5869);const f=(0,l._)("h1",null,"Список мероприятий",-1),g={key:0,class:"modal"},m={class:"btn_block"},b={key:1,class:"modal"},h={class:"btn_block"},w=["onClick"];function y(e,a,t,y,k,_){return(0,l.wg)(),(0,l.j4)(r.K,null,{default:(0,l.w5)((()=>[f,1==k.modal?((0,l.wg)(),(0,l.iD)("div",g,[(0,l.Wm)(o._,{class:"pa-2 modal-card"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Редактирование пользователя: "),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.modalInput,((a,t)=>((0,l.wg)(),(0,l.j4)(p.h,{key:a.id,modelValue:a.index,"onUpdate:modelValue":e=>a.index=e,rules:e.nameRules,counter:10,label:t,required:""},null,8,["modelValue","onUpdate:modelValue","rules","label"])))),128)),(0,l._)("div",m,[(0,l.Wm)(n.T,{onClick:a[0]||(a[0]=e=>k.modal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Button ")])),_:1}),(0,l.Wm)(n.T,{onClick:a[1]||(a[1]=e=>k.modal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Button ")])),_:1}),(0,l.Wm)(n.T,{class:"ban-btn",onClick:a[2]||(a[2]=e=>k.modal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Забанить ")])),_:1})])])),_:1})])):(0,l.kq)("",!0),1==k.OrgModal?((0,l.wg)(),(0,l.iD)("div",b,[(0,l.Wm)(o._,{class:"pa-2 modal-card"},{default:(0,l.w5)((()=>[(0,l.Uk)(" Добавить мероприятие: "),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.TableHead,(a=>((0,l.wg)(),(0,l.j4)(p.h,{key:a,rules:e.nameRules,counter:10,label:a,required:""},null,8,["rules","label"])))),128)),(0,l._)("div",h,[(0,l.Wm)(n.T,{onClick:a[3]||(a[3]=e=>k.OrgModal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Button ")])),_:1}),(0,l.Wm)(n.T,{onClick:a[4]||(a[4]=e=>k.OrgModal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Button ")])),_:1})])])),_:1})])):(0,l.kq)("",!0),(0,l.Wm)(u.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d.D,{cols:"4",md:"4"},{default:(0,l.w5)((()=>[(0,l.Wm)(p.h,{modelValue:k.filter,"onUpdate:modelValue":a[5]||(a[5]=e=>k.filter=e),label:"Поиск по Названию/Адресу/Датам проведения/Актуальным датам","prepend-icon":"mdi-magnify",required:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s.x,{modelValue:k.checkboxSubscriptionStatus,"onUpdate:modelValue":a[6]||(a[6]=e=>k.checkboxSubscriptionStatus=e),indeterminate:"",label:"Только актиная подписка",onClick:a[7]||(a[7]=e=>console.log(this.checkboxSubscriptionStatus))},null,8,["modelValue"])])),_:1}),(0,l.Wm)(n.T,{onClick:a[8]||(a[8]=e=>k.OrgModal=!0)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Добавить мероприятие ")])),_:1}),(0,l.Wm)(v.Y,{density:"compact"},{default:(0,l.w5)((()=>[(0,l._)("thead",null,[(0,l._)("tr",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(k.TableHead,(e=>((0,l.wg)(),(0,l.iD)("th",{key:e,class:"text-left"},(0,i.zw)(e),1)))),128))])]),(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(_.filteredList().slice((this.page-1)*this.Pagination,this.page*this.Pagination),(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e,onClick:a=>_.modalStart(e),class:"table"},[(0,l._)("td",null,(0,i.zw)(e.titel),1),(0,l._)("td",null,(0,i.zw)(e.alres),1),(0,l._)("td",null,(0,i.zw)(e.Date),1),(0,l._)("td",null,(0,i.zw)(e.stat),1),(0,l._)("td",null,(0,i.zw)(e.categori),1),(0,l._)("td",null,(0,i.zw)(e.actulityDate),1)],8,w)))),128))])])),_:1}),(0,l.Wm)(u.o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d.D,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c.k,{"total-visible":k.Pagination,modelValue:k.page,"onUpdate:modelValue":a[9]||(a[9]=e=>k.page=e),length:Math.ceil(_.filteredList().length/k.Pagination)},null,8,["total-visible","modelValue","length"])])),_:1})])),_:1})])),_:1})}t(7658);var k={data(){return{modal:!1,OrgModal:!1,modalInput:[],checkboxSubscriptionStatus:void 0,page:1,Pagination:8,filter:"",TableHead:["Название","Место проведения","Дата проведения","Статус","Категория мероприятия","До какой даты актуально"],org:[]}},methods:{BtnPlus(){this.Pagination=this.Pagination+2},modalStart(e){this.modal=!0,this.modalInput=e,console.log(this.modalInput)},filteredList(){return void 0!=this.checkboxSubscriptionStatus?this.org.filter((e=>(e.titel.toLowerCase().includes(this.filter.toLowerCase())||e.Date.toLowerCase().includes(this.filter.toLowerCase())||e.alres.toLowerCase().includes(this.filter.toLowerCase())||e.actulityDate.toLowerCase().includes(this.filter.toLowerCase()))&&e.stat.includes(this.checkboxSubscriptionStatus))):this.org.filter((e=>e.titel.toLowerCase().includes(this.filter.toLowerCase())||e.Date.toLowerCase().includes(this.filter.toLowerCase())||e.alres.toLowerCase().includes(this.filter.toLowerCase())||e.actulityDate.toLowerCase().includes(this.filter.toLowerCase())))}},async mounted(){const e=await fetch("https://jsonplaceholder.typicode.com/users"),a=await e.json();console.log(a);for(let t=0;t<a.length;t++){const e={titel:"Название",alres:"Адрес",Date:"Дата проведения",stat:"true",categori:"Категория мероприятия",actulityDate:new Date};this.org.push(e),this.org.push(e)}}},_=t(89);const L=(0,_.Z)(k,[["render",y]]);var x=L},6556:function(e,a,t){t.d(a,{k:function(){return W}});var l=t(3396),i=t(870),n=t(8157),o=t(2718),s=t(9166),r=t(6107),u=t(9694),d=t(2465),c=t(4960),v=t(1629),p=t(8717),f=t(4870);function g(){const e=(0,f.iH)([]);function a(a,t){e.value[t]=a}return(0,l.Xn)((()=>e.value=[])),{refs:e,updateRef:a}}var m=t(3712),b=t(4231),h=t(9374),w=t(1138),y=t(7041),k=t(5221),_=t(3766),L=t(1107),x=t(131),C=t(9888);const V=(0,_.U)({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:c.lE,default:"$first"},prevIcon:{type:c.lE,default:"$prev"},nextIcon:{type:c.lE,default:"$next"},lastIcon:{type:c.lE,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...(0,o.m)(),...(0,s.l)(),...(0,u.f)(),...(0,d.c)(),...(0,b.I)(),...(0,h.Z)(),...(0,w.Q)({tag:"nav"}),...(0,y.x$)(),...(0,k.bk)({variant:"text"})},"VPagination"),W=(0,L.ev)()({name:"VPagination",props:V(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,a){let{slots:t,emit:o}=a;const s=(0,p.z)(e,"modelValue"),{t:u,n:d}=(0,v.bU)(),{isRtl:c}=(0,v.Vw)(),{themeClasses:b}=(0,y.ER)(e),{width:h}=(0,n.AW)(),w=(0,f.XI)(-1);(0,r.AF)(void 0,{scoped:!0});const{resizeRef:k}=(0,m.y)((e=>{if(!e.length)return;const{target:a,contentRect:t}=e[0],l=a.querySelector(".v-pagination__list > *");if(!l)return;const i=t.width,n=l.offsetWidth+2*parseFloat(getComputedStyle(l).marginRight);w.value=W(i,n)})),_=(0,l.Fl)((()=>parseInt(e.length,10))),L=(0,l.Fl)((()=>parseInt(e.start,10))),V=(0,l.Fl)((()=>e.totalVisible?parseInt(e.totalVisible,10):w.value>=0?w.value:W(h.value,58)));function W(a,t){const l=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((a-t*l)/t).toFixed(2)))}const S=(0,l.Fl)((()=>{if(_.value<=0||isNaN(_.value)||_.value>Number.MAX_SAFE_INTEGER)return[];if(V.value<=1)return[s.value];if(_.value<=V.value)return(0,x.MT)(_.value,L.value);const a=V.value%2===0,t=a?V.value/2:Math.floor(V.value/2),l=a?t:t+1,i=_.value-t;if(l-s.value>=0)return[...(0,x.MT)(Math.max(1,V.value-1),L.value),e.ellipsis,_.value];if(s.value-i>=(a?1:0)){const a=V.value-1,t=_.value-a+L.value;return[L.value,e.ellipsis,...(0,x.MT)(a,t)]}{const a=Math.max(1,V.value-3),t=1===a?s.value:s.value-Math.ceil(a/2)+L.value;return[L.value,e.ellipsis,...(0,x.MT)(a,t),e.ellipsis,_.value]}}));function P(e,a,t){e.preventDefault(),s.value=a,t&&o(t,a)}const{refs:D,updateRef:I}=g();(0,r.AF)({VPaginationBtn:{color:(0,f.Vh)(e,"color"),border:(0,f.Vh)(e,"border"),density:(0,f.Vh)(e,"density"),size:(0,f.Vh)(e,"size"),variant:(0,f.Vh)(e,"variant"),rounded:(0,f.Vh)(e,"rounded"),elevation:(0,f.Vh)(e,"elevation")}});const T=(0,l.Fl)((()=>S.value.map(((a,t)=>{const l=e=>I(e,t);if("string"===typeof a)return{isActive:!1,key:`ellipsis-${t}`,page:a,props:{ref:l,ellipsis:!0,icon:!0,disabled:!0}};{const t=a===s.value;return{isActive:t,key:a,page:d(a),props:{ref:l,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:t?e.activeColor:e.color,ariaCurrent:t,ariaLabel:u(t?e.currentPageAriaLabel:e.pageAriaLabel,a),onClick:e=>P(e,a)}}}})))),A=(0,l.Fl)((()=>{const a=!!e.disabled||s.value<=L.value,t=!!e.disabled||s.value>=L.value+_.value-1;return{first:e.showFirstLastPage?{icon:c.value?e.lastIcon:e.firstIcon,onClick:e=>P(e,L.value,"first"),disabled:a,ariaLabel:u(e.firstAriaLabel),ariaDisabled:a}:void 0,prev:{icon:c.value?e.nextIcon:e.prevIcon,onClick:e=>P(e,s.value-1,"prev"),disabled:a,ariaLabel:u(e.previousAriaLabel),ariaDisabled:a},next:{icon:c.value?e.prevIcon:e.nextIcon,onClick:e=>P(e,s.value+1,"next"),disabled:t,ariaLabel:u(e.nextAriaLabel),ariaDisabled:t},last:e.showFirstLastPage?{icon:c.value?e.firstIcon:e.lastIcon,onClick:e=>P(e,L.value+_.value-1,"last"),disabled:t,ariaLabel:u(e.lastAriaLabel),ariaDisabled:t}:void 0}}));function F(){const e=s.value-L.value;D.value[e]?.$el.focus()}function M(a){a.key===x.ff.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,(0,l.Y3)(F)):a.key===x.ff.right&&!e.disabled&&s.value<L.value+_.value-1&&(s.value=s.value+1,(0,l.Y3)(F))}return(0,C.L)((()=>(0,l.Wm)(e.tag,{ref:k,class:["v-pagination",b.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:M,"data-test":"v-pagination-root"},{default:()=>[(0,l.Wm)("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&(0,l.Wm)("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[t.first?t.first(A.value.first):(0,l.Wm)(i.T,(0,l.dG)({_as:"VPaginationBtn"},A.value.first),null)]),(0,l.Wm)("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[t.prev?t.prev(A.value.prev):(0,l.Wm)(i.T,(0,l.dG)({_as:"VPaginationBtn"},A.value.prev),null)]),T.value.map(((e,a)=>(0,l.Wm)("li",{key:e.key,class:["v-pagination__item",{"v-pagination__item--is-active":e.isActive}],"data-test":"v-pagination-item"},[t.item?t.item(e):(0,l.Wm)(i.T,(0,l.dG)({_as:"VPaginationBtn"},e.props),{default:()=>[e.page]})]))),(0,l.Wm)("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[t.next?t.next(A.value.next):(0,l.Wm)(i.T,(0,l.dG)({_as:"VPaginationBtn"},A.value.next),null)]),e.showFirstLastPage&&(0,l.Wm)("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[t.last?t.last(A.value.last):(0,l.Wm)(i.T,(0,l.dG)({_as:"VPaginationBtn"},A.value.last),null)])])]}))),{}}})},4413:function(e,a,t){t.d(a,{Y:function(){return p}});var l=t(3396),i=t(9166),n=t(9694),o=t(1138),s=t(7041),r=t(3766),u=t(1107),d=t(9888),c=t(131);const v=(0,r.U)({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...(0,i.l)(),...(0,n.f)(),...(0,o.Q)(),...(0,s.x$)()},"VTable"),p=(0,u.ev)()({name:"VTable",props:v(),setup(e,a){let{slots:t}=a;const{themeClasses:i}=(0,s.ER)(e),{densityClasses:o}=(0,n.t)(e);return(0,d.L)((()=>(0,l.Wm)(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},i.value,o.value,e.class],style:e.style},{default:()=>[t.top?.(),t.default?(0,l.Wm)("div",{class:"v-table__wrapper",style:{height:(0,c.kb)(e.height)}},[(0,l.Wm)("table",null,[t.default()])]):t.wrapper?.(),t.bottom?.()]}))),{}}})}}]);
//# sourceMappingURL=90.dc0eb8a4.js.map